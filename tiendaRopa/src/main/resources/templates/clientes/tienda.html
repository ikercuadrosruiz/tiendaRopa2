<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" th:href="@{/css/clientes/header.css}">
<link rel="stylesheet" th:href="@{/css/clientes/tienda.css}">
<link rel="stylesheet" th:href="@{/css/clientes/footer.css}">

<link rel="stylesheet"
	th:href="@{/css/clientes/successCancelPayment.css}">
<script th:src="@{/js/clientes/scriptsTramite.js}"></script>
<script th:src="@{https://kit.fontawesome.com/ddbdd94323.js}"
	crossorigin="anonymous"></script>
<title>Frutti di Vestiti</title>
</head>

<body>
	<header>
		<nav>
			<div>
				<ul>
					<li><a th:href="@{/index}">Inicio</a></li>
					<li><a th:href="@{/tienda}">Productos</a></li>
					<li><a th:href="@{/pedidos}">Mis Pedidos</a></li>
					<li><a th:href="@{/perfil}">Mi perfil</a></li>
					<img th:src="@{/images/header/cerrar.png}" alt="Img menu" />
				</ul>
			</div>
			<img th:src="@{/images/header/menu.png}" alt="Img menu" />
		</nav>

		<p>
			<b>Frutti di Vestiti</b>
		</p>

		<nav>
			<div>
				<div id="favoritos">
					<a><img th:src="@{/images/header/guardados.png}"
						alt="Imagen guardados" /></a>
				</div>

				<div id="carrito">
					<a th:href="@{/tienda/carrito}"><img
						th:src="@{/images/header/carrito.png}" alt="Imagen carrito" /></a>
				</div>

				<div class="btnLogin" sec:authorize="isAnonymous()">
					<a th:href="@{/login}">No está logueado</a>
				</div>

				<div class="btnLogin" sec:authorize="isAuthenticated()">
					<form th:action="@{/logout}" method="post">
						<p th:inline="text">
							<span th:remove="tag" sec:authentication="name" />
						</p>
						<input type="submit" value="Logout" />
					</form>
				</div>
			</div>
		</nav>
	</header>

	<!-- ***************************************** -->

	<main>
		<div id="div--buscador">
			<a href=""> <i class="fa fa-search"></i>
			</a> <input type="text" placeholder="Busque un artículo..." />
		</div>

		<div id="div--filtros">
			<div>
				<select name="categorias" id="selec-cat">
					<option value="" hidden selected disabled>Categorías</option>
					<option th:each="cDTO : ${listaCategoriasDTO}"
						th:text=${cDTO.nombre}></option>
				</select> <a href="">Precio de + a -</a> <a href="">Precio de - a +</a>
			</div>
		</div>

		<div id="div--productos">
			<p>Productos</p>
			<div th:if="${param.productoAdd}">
				<p>Producto añadido correctamente(Editar estilo de la alerta)</p>
			</div>
			<div id="cont--productos">
				<div id="cont--producto" th:each="pDTO : ${listaProductosDTO}">
					<img th:src="@{/images/tienda/heart.png}" alt="like"
						class="like--icon"> <img
						th:src="@{/images/productos/{imagen} (imagen=${pDTO.listaImagenesDTO[0].url})}"
						alt="gorra" class="dress--icon">
					<div>
						<p th:text=${pDTO.categoria.nombre}>[Tipo categoría]</p>
						<p th:text=${pDTO.nombre}>Nombre producto</p>
						<div>
							<p th:text=${pDTO.precio}>19.99€</p>

							<!-- Al darle click aqui debe añAadirse al carrito -->
							<!-- Al darle click aqui debe añAadirse al carrito -->
							<!-- Al darle click aqui debe añAadirse al carrito -->
							<!-- Al darle click aqui debe añAadirse al carrito -->
							<a
								th:href="@{/tienda/producto/addCarrito/{idProducto} (idProducto=${pDTO.id})}">
								<div class="buy--icon">
									<img th:src="@{/images/tienda/shopping-bag.png}"
										alt="Ir al carrito">
								</div>
							</a> <a
								th:href="@{/tienda/producto/{idProducto} (idProducto=${pDTO.id})}">
								<div class="view--icon">
									<img th:src="@{/images/tienda/ver-producto.png}"
										alt="Ver producto">
								</div>
							</a>
						</div>
					</div>
				</div>

			</div>
		</div>

		<!-- PopUps -------------- -->
		<div id="popup-container" th:if="${param.successPayment}">
			<div id="popup-content">
				<div>
					<img th:src="@{/images/tramite/check.png}" alt="Perfecto">
				</div>
				<div>
					<h3>
						<b>Todo listo</b>
					</h3>
					<p>Enhorabuena, el pago se ha realizado con éxito</p>
				</div>
				<div>
					<a th:href="@{/tienda}" id="continue-button">Continuar</a>
				</div>
			</div>
		</div>

		<!-- PopUps -------------- -->
		<div id="popup-container" th:if="${param.cancelPayment}">
			<div id="popup-content">
				<div>
					<img th:src="@{/images/tramite/cancel.png}" alt="Perfecto">
				</div>
				<div>
					<h3>
						<b>Oops</b>
					</h3>
					<p>Se ha cancelado la compra</p>
				</div>
				<div>
					<a th:href="@{/tienda}" id="continue-button">Continuar</a>
				</div>
			</div>
		</div>
	</main>

	<!-- ***************************************** -->

	<footer>
		<img th:src="@{/images/footer/fondoFooter.png}" alt="">

		<div id="div--footerbox">
			<div>
				<img th:src="@{/images/footer/logoComplejo.png}"
					alt="Imagen del logo">
			</div>

			<div>
				<p>"Es tu oportunidad para explorar estilos del pasado y
					reinventarlos para el presente".</p>
			</div>

			<div id="div--rrss">
				<a href="@{https://www.instagram.com/ikerqs8_/}"> <i
					class="fa fa-instagram"></i><span>ikerqs8_</span>
				</a> <a
					href="@{https://www.linkedin.com/in/iker-cuadros-ruiz-ab6891231/}">
					<i class="fa-brands fa-linkedin"></i><span>Iker Cuadros</span>
				</a> <a href="@{https://twitter.com/ikers890}"> <i
					class="fa-brands fa-twitter"></i></i><span>ikers890</span>
				</a>


			</div>

			<img th:src="@{/images/footer/trianguloFooter.png}" alt="">
		</div>

		<div id="div--finalData">
			<div id="div--copyright">
				<p>© 2023 Frutti Di Vestiti Company Inc.</p>
			</div>

			<div id="div--authory">
				<p>
					Website designed by <a
						th:href="@{https://www.instagram.com/ikerqs8_/}"><b>Iker
							Cuadros</b></a>
				</p>
				<p>
					Coded by <a href="@{https://www.instagram.com/ikerqs8_/}"><b>Iker
							Cuadros</b></a>
				</p>
			</div>
		</div>
	</footer>
</body>

<script th:src="@{/js/clientes/scriptSuccFailPayment.js}"></script>
</html>